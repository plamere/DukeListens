<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>




<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Java Jar Annoyance - Duke Listens!</title>
           <!-- a reliable way to detect ie in javascript -->
<script type="text/javascript">lteie6=lteie7=false;</script>
<!--[if lte IE 6]><script type="text/javascript">lteie6=true;</script><![endif]-->
<!--[if lte IE 7]><script type="text/javascript">lteie7=true;</script><![endif]-->


        

    
    
<script type="text/javascript" src="support_files/dom-utils.js"></script>
<script type="text/javascript" src="support_files/custom.js"></script>
<link rel="stylesheet" type="text/css" href="support_files/rainforest-custom.css">
    </head><body class="permalink">
<div id="pagewrap">
<div id="innerpagewrap">

<div id="header">
<div id="innerheader">
<h1 class="has-subhead"><a href="page0.html">Duke Listens!</a><span class="colon">:</span> <span class="subhead">Visit my main blog at <a href="http://musicmachinery.com/">MusicMachinery.com</a></span>  </h1>
<p class="skip">Skip to <a href="java_jar_annoyance.html#content">content</a>, <a href="java_jar_annoyance.html#nav">navigation</a>.</p>
</div><!-- end #innerheader -->
</div><!-- end #header -->

<div class="shorter" id="content">
<div id="innercontent">


                <div class="day">


	<div class="entry" id="java_jar_annoyance">

	<div class="entry-title entry-info">
			<h2>Java Jar Annoyance</h2>
		</div>

	<div class="entry-content">
				<p>
We package the <a href="http://cmusphinx.sourceforge.net/sphinx4/">Sphinx-4</a> demos as jar files. These can be easily run from the command line like so:

</p><pre>% java -jar HelloDigits.jar
</pre>
<p>
Now, some of our demos can be quite large and require a heap that is 
larger than the default heap size. To run these demos the user has to 
invoke the jar file with a -mx option like so:

</p><pre> % java -mx200m -jar HelloWorld.jar
</pre>

This is just bonkers.  Why should the user have to throw that switch? It
 is awkward for the user and requires more documentation by the 
developer.  Since the developer knows how much memory the program needs,
 let the developer configure the app, don't make the user do the work.  
<p>
Wouldn't it be great if you could put the Java command line options such
 as the "-mx200m" into the manifest in the jar file so it wouldn't be 
necessary to explicitly set the heap size option?  You can do this sort 
of thing with Java WebStart JNLP files, but there's no equivalent 
mechanism for simple jar files.  If we had this option we could 
eliminate a whole bunch of pesky documentation, make things easier for 
the user and reduce the possible failure modes for Java Apps.
</p><p>

		</p></div>
	
	<div class="entry-footer entry-info">
	<p class="entry-date">Posted on: Jul 19, 2004</p>
	<p class="entry-author">Posted by: plamere</p>
	<p class="entry-category">Category: Java</p>
	<p class="entry-links">
		<a href="java_jar_annoyance.html">Permanent link to this entry</a>
					</p>
	</div>

		</div>

</div>
    
<!-- End SiteCatalyst code version: G.5. -->

    <a name="comments"></a>
    <div class="comments" id="comments">

            <div class="comments-head">Comments:</div>
            
    <br>
                        <a name="comment-1090239904000" id="comment-1090239904000"></a>
            <div class="comment odd" id="comment1">

                Why not use a launcher JAR? That is, a JAR that has 
classes in it that spawn another JVM instance as per the desired 
configuration?

Running it would be only a little more complicated: java -jar 
DemoLauncher.jar HelloWorld


                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://twasink.net/"><b>Robert Watkins</b></a>
                
                on July 19, 2004 at 08:25 AM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090239904000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090247436000" id="comment-1090247436000"></a>
            <div class="comment even" id="comment2">

                Time to log an RFE - I can see your point...

                <p class="comment-details">
                Posted by
                                    <b>Stephen Fitch</b>
                
                on July 19, 2004 at 10:30 AM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090247436000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090266908000" id="comment-1090266908000"></a>
            <div class="comment odd" id="comment3">

                Robert: Your suggestion isn't a very good workaround since it requires two (expensive!) JVM startups.

                <p class="comment-details">
                Posted by
                                    <b>cp</b>
                
                on July 19, 2004 at 03:55 PM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090266908000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090315136000" id="comment-1090315136000"></a>
            <div class="comment even" id="comment4">

                I suggest to check Roxes Ant Tasks 
(http://roxes.de/produkte/rat.html). It ships with the JStub task that 
creates a native Windows executable from a jar file. Since it allows you
 to specify command line switches, it should solve your problem.

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://weblog.janek.org/"><b>Janek</b></a>
                
                on July 20, 2004 at 05:18 AM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090315136000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090315600000" id="comment-1090315600000"></a>
            <div class="comment odd" id="comment5">

                Janek - thanks for the suggestion, the Roxes stuff looks
 interesting, however, I rarely am targeting just win32 environements. 
I'm looking for a solution that works for win32, os x, solaris and 
linux.

                <p class="comment-details">
                Posted by
                                    <b>Paul</b>
                
                on July 20, 2004 at 05:26 AM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090315600000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090317915000" id="comment-1090317915000"></a>
            <div class="comment even" id="comment6">

                It should work for you anyway. From the documentation:

"jstub creates native executables for Windows, MacOS X and almost any 
Unix System out of a working JAR archive. For Windows the executable 
command may contain placeholders for registry, enviroment and executable
 filename which are evaluated at runtime. The icon for the windows 
executable can be defined be the task."


                <p class="comment-details">
                Posted by
                                    <b>Janek</b>
                
                on July 20, 2004 at 06:05 AM EDT

                <a href="https://kiserai.net/DukeListens/java_jar_annoyance#comment-1090317915000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                </div>

    <div class="comments-form">
    <div class="comments-head">Post a Comment:</div>
    <a name="comment-form"></a>

    <span class="status">Comments are closed for this entry.</span>

    </div>

<div id="boilerplate">
<div id="innerboilerplate">
<p>This blog copyright 2010 by plamere</p>
</div>
</div>

</div><!-- end #innercontent -->
</div><!-- end #content -->

           <div id="sidebars">
<div id="innersidebars">

<div class="sidebar sidebar-a" id="nav">
<div class="innersidebar">



<!-- about me -->

<div class="aboutme sidebar-sect default-expanded">
<div class="sidebar-sect-title">
<h2>About this weblog</h2>
</div>
<div class="sidebar-sect-content">
  <!-- weblog about setting -->
<p><i>(This is an archive of most of Paul Lamere's weblog from blogs.sun.com/plamere/  <br />
This is not the original.  Some links do not work.  <br />
An <a href="entry_index.html">entry index</a> is available.)</i></p>
  <p>I am a researcher in Sun Labs where I explore new ways to organize, search for, and discover music. Read more on the <a href="http://research.sun.com/projects/dashboard.php?id=153">Search Inside the Music project page </a>.
</p>
</div>
</div>



<!-- paging -->

<div class="paging sidebar-sect default-expanded">
<div class="sidebar-sect-title">
<h2>Your Current Location</h2>
</div>
<div class="sidebar-sect-content">
           
	<p class="location">
			You are viewing the entry <em>Java Jar Annoyance</em>
		</p>

	<p class="prev-next">
	                            « <a href="how_do_pirates_say_goodbye.html">How do pirates say...</a> |  
                <a href="page0.html">Main</a>
                | <a href="another_day_another_demo.html">Another Day, Another...</a> »
    	</p>

    </div>
</div>
<h2>What I am listening to</h2>
<object><embed src="support_files/user_profile_embed.swf" type="application/x-shockwave-flash" wmode="transparent" height="200" width="200"></object>
<h2>What I am reading</h2>
<div class="f"><a href="https://www.google.com/reader/shared/user/07268145224739680674/state/com.google/broadcast">Google Reader »</a></div>
<!-- recent entries -->

<div class="recent sidebar-sect default-expanded">
<div class="sidebar-sect-title">
<h2>Up to 10 Recent Entries</h2>
</div>
<div class="sidebar-sect-content">
  <ul>
      <li><a href="last_post.html">Last Post</a></li>
      <li><a href="the_best_job_in_the.html">The best job in the world</a></li>
      <li><a href="music_gone_viral.html">Music gone viral?</a></li>
      <li><a href="music_recommendation_and_the_long.html">Music Recommendation and the Long Tail</a></li>
      <li><a href="sxsw_artist_catalog_updated.html">SXSW Artist Catalog updated</a></li>
      <li><a href="most_overused_animals_of_indie.html">Most overused animals of indie rock?</a></li>
      <li><a href="blip_fm_api.html">Blip.fm API</a></li>
      <li><a href="new_release_of_sphinx_4.html">New release of Sphinx-4</a></li>
      <li><a href="styling_the_sxsw_artist_catalog.html">Styling the SXSW Artist Catalog</a></li>
      <li><a href="getting_the_most_space_on.html">Getting the most space on the marquee</a></li>
    </ul>
</div>
</div>



<!-- feeds not available in this archive, sorry -->
<div class="categories sidebar-sect">
   <div class="sidebar-sect-title">
   <h2>Categories</h2>
   <i>(Original blog had several other categories)</i>
   </div>
   <div class="sidebar-sect-content">
       <ul class="rCategory">
           <li><a href="category-freakomendations-page0.html">freakomendations</a></li>
       </ul>
   </div>
</div>
<!-- weblog menu not available in this archive, sorry -->
<!-- search not available in this archive, sorry -->
</form>
<script type="text/javascript">prepareSearchForm();</script>
</div>
</div>



</div><!-- end .innersidebar -->
</div><!-- end .sidebar-a -->

<div class="sidebar sidebar-b">
<div class="innersidebar">



<!-- bookmarks -->

<div class="links sidebar-sect">
<div class="sidebar-sect-title">
<h2>Bookmarks</h2>
</div>
<div class="sidebar-sect-content">
<ul class="rFolder">
                    <li class="rFolderItem">
                                <a href="http://www.mediaor.com/" title="Aggregation of music blogs" class="rBookmark0">Me*dia*or</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://mobblog.cs.ucl.ac.uk/" title="Research: Trust, Reputation, Recommendations and Mobility" class="rBookmark0">MobBlog</a>
                </li>
            <li class="rFolderItem">
                                <a href="offices_of_music_2_013.html" title="Photos of Music 2.0 Offices" class="rBookmark0">Offices</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://research.sun.com/projects/dashboard.php?id=153" title="The search inside the music project page" class="rBookmark0">SITM</a>
                </li>
            <li class="rFolderItem">
                                <a href="https://savetherobot.wordpress.com/" title="Chris Dahlen's work blog" class="rBookmark0">Save the robot</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://blogs.sun.com/searchguy/" title="" class="rBookmark0">Search Guy</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://thetasteblog.com/" title="An aggregation of recommender blogs" class="rBookmark0">The Taste Blog</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://musicmachinery.com/feed/"><img class="smrssbadge" src="support_files/smrssbadge.gif" alt="URL of site''s RSS feed"></a>
                        <a href="http://musicmachinery.com/" title="a blog about music technology" class="rBookmark10">Music Machinery</a>
                </li>
                    </ul>
</div>
</div>



</div><!-- end .innersidebar -->
</div><!-- end .sidebar-b -->

</div><!-- end #innersidebars -->
</div><!-- end #sidebars -->
    
</div><!-- end #innerpagewrap -->
</div><!-- end #pagewrap -->

</body></html>
