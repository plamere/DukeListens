<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>




<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>99 Bottles of beer - Duke Listens!</title>
           <!-- a reliable way to detect ie in javascript -->
<script type="text/javascript">lteie6=lteie7=false;</script>
<!--[if lte IE 6]><script type="text/javascript">lteie6=true;</script><![endif]-->
<!--[if lte IE 7]><script type="text/javascript">lteie7=true;</script><![endif]-->


        

    
    
<script type="text/javascript" src="support_files/dom-utils.js"></script>
<script type="text/javascript" src="support_files/custom.js"></script>
<link rel="stylesheet" type="text/css" href="support_files/rainforest-custom.css">
    </head><body class="permalink">
<div id="pagewrap">
<div id="innerpagewrap">

<div id="header">
<div id="innerheader">
<h1 class="has-subhead"><a href="page0.html">Duke Listens!</a><span class="colon">:</span> <span class="subhead">Visit my main blog at <a href="http://musicmachinery.com/">MusicMachinery.com</a></span>  </h1>
<p class="skip">Skip to <a href="99_bottles_of_beer.html#content">content</a>, <a href="99_bottles_of_beer.html#nav">navigation</a>.</p>
</div><!-- end #innerheader -->
</div><!-- end #header -->

<div class="shorter" id="content">
<div id="innercontent">


                <div class="day">


	<div class="entry" id="99_bottles_of_beer">

	<div class="entry-title entry-info">
			<h2>99 Bottles of beer</h2>
		</div>

	<div class="entry-content">
				<p>

A while back, Bryan <a href="http://www.scruffles.net/blog/archive/000011.html">posted a program </a> that renders a spoken version of the classic "99 bottles of beer on the wall" using <a href="http://freetts.sourceforge.net/">FreeTTS 1.1</a>.
 Well, Bryan was using lower level (non-JSAPI) FreeTTS API and things 
have changed in this API a bit with the release of FreeTTS 1.2, so I 
thought I'd update the source so it will work with 1.2.  This little 
code snippet, when coupled with FreeTTS will indeed sing the whole song,
 without ever getting tired.

</p><pre>import com.sun.speech.freetts.Voice;
import com.sun.speech.freetts.VoiceManager;

public class BottlesOfBeer  {

    public static void main(String[] args) {

        VoiceManager voiceManager = VoiceManager.getInstance();
        Voice voice = voiceManager.getVoice("kevin16");

        if (voice == null) {
            System.err.println( "Cannot find kevin16");
            System.exit(1);
        }

        voice.allocate();
        for (int i = 99; i &gt; 0; i--) {
            String verse = i + getBottle(i) + " of beer on the wall, " +
                    i + getBottle(i) + " of beer. " +
                    "Take one down,  Pass it around, " +
                    (i - 1) + getBottle(i - 1) + "of beer on the wall.";
            voice.speak(verse);
        }
        voice.speak("Thank you everyone.  You've been a great audience.  " +
                "I'll be here all week!");

        /* Clean up and leave.
         */
        voice.deallocate();
        System.exit(0);
    }

    public static String getBottle(int numberOfBottles) {
        return numberOfBottles != 1 ? " bottles" : " bottle";
    }
}

</pre>

I figured with all those kids heading out to camp this summer with their
 laptops, they can just fire this up on those bus rides instead of 
having to sing it themselves.
<p>

Oh, and be sure to check out <a href="http://www.99-bottles-of-beer.net/">www.99-bottles-of-beer.net</a> for 621 variations of this program in just about every programming language ever written. A most valuable resource.
</p><p>

		</p></div>
	
	<div class="entry-footer entry-info">
	<p class="entry-date">Posted on: Jul 25, 2004</p>
	<p class="entry-author">Posted by: plamere</p>
	<p class="entry-category">Category: Synthesis</p>
	<p class="entry-links">
		<a href="99_bottles_of_beer.html">Permanent link to this entry</a>
					</p>
	</div>

		</div>

</div>
    
<!-- End SiteCatalyst code version: G.5. -->

    <a name="comments"></a>
    <div class="comments" id="comments">

            <div class="comments-head">Comments:</div>
            
    <br>
                        <a name="comment-1090810972000" id="comment-1090810972000"></a>
            <div class="comment odd" id="comment1">

                thx for the demo code. quite clean. i'll u/d myjxta2 in kind. couldn't be simplier.

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://blogs.sun.com/gonzo"><b>gonzo</b></a>
                
                on July 25, 2004 at 11:02 PM EDT

                <a href="https://kiserai.net/DukeListens/99_bottles_of_beer#comment-1090810972000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1090830604000" id="comment-1090830604000"></a>
            <div class="comment even" id="comment2">

                [Trackback] just upgraded to  freetts 1.2b2  in order to
 incorporate the ultra-lean and cool code example as posted by  plamere .
 couldn't be easier and i was able to remove earlier implementation 
kruft in the process. less is more. i like that! I'll spin out a ne...

                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="http://blogs.sun.com/roller/page/gonzo/20040726#lite_speech"><b>GonzoMoFo</b></a>
                
                on July 26, 2004 at 04:30 AM EDT

                <a href="https://kiserai.net/DukeListens/99_bottles_of_beer#comment-1090830604000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1091144924000" id="comment-1091144924000"></a>
            <div class="comment odd" id="comment3">

                <b>mmmm ....beer</b>

                <p class="comment-details">
                Posted by
                                    <b>Foo</b>
                
                on July 29, 2004 at 07:48 PM EDT

                <a href="https://kiserai.net/DukeListens/99_bottles_of_beer#comment-1091144924000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1091147322000" id="comment-1091147322000"></a>
            <div class="comment even" id="comment4">

                a test comment

                <p class="comment-details">
                Posted by
                                    <b>fum</b>
                
                on July 29, 2004 at 08:28 PM EDT

                <a href="https://kiserai.net/DukeListens/99_bottles_of_beer#comment-1091147322000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1095517958000" id="comment-1095517958000"></a>
            <div class="comment odd" id="comment5">

                Should not your deallocate be in a finally block?  I 
realize this is just a simple demo, but for the newbie that walks by; it
 wouldn't hurt to remind him/her of such things.


                <p class="comment-details">
                Posted by
                                    <a rel="nofollow" href="https://zorkerman.livejournal.com/"><b>Zorkerman</b></a>
                
                on September 18, 2004 at 10:32 AM EDT

                <a href="https://kiserai.net/DukeListens/99_bottles_of_beer#comment-1095517958000.html" class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                </div>

    <div class="comments-form">
    <div class="comments-head">Post a Comment:</div>
    <a name="comment-form"></a>

    <span class="status">Comments are closed for this entry.</span>

    </div>

<div id="boilerplate">
<div id="innerboilerplate">
<p>This blog copyright 2010 by plamere</p>
</div>
</div>

</div><!-- end #innercontent -->
</div><!-- end #content -->

           <div id="sidebars">
<div id="innersidebars">

<div class="sidebar sidebar-a" id="nav">
<div class="innersidebar">



<!-- about me -->

<div class="aboutme sidebar-sect default-expanded">
<div class="sidebar-sect-title">
<h2>About this weblog</h2>
</div>
<div class="sidebar-sect-content">
  <!-- weblog about setting -->
<p><i>(This is an archive of most of Paul Lamere's weblog from blogs.sun.com/plamere/  <br />
This is not the original.  Some links do not work.  <br />
An <a href="entry_index.html">entry index</a> is available.)</i></p>
  <p>I am a researcher in Sun Labs where I explore new ways to organize, search for, and discover music. Read more on the <a href="http://research.sun.com/projects/dashboard.php?id=153">Search Inside the Music project page </a>.
</p>
</div>
</div>



<!-- paging -->
<div class="paging sidebar-sect default-expanded">
<div class="sidebar-sect-title">
    <h2>Index</h2>
</div>
<div class="sidebar-sect-content">
    <ul>
        <li> <a href="entry_index.html"> Index by title </a> </li>
        <li> <a href="date_index.html"> Index by date </a> </li>
    </ul>
</div>
</div>

<div class="paging sidebar-sect default-expanded">
<div class="sidebar-sect-title">
<h2>Your Current Location</h2>
</div>
<div class="sidebar-sect-content">
           
	<p class="location">
			You are viewing the entry <em>99 Bottles of beer</em>
		</p>

	<p class="prev-next">
	                            « <a href="8192_by_3840_pixel_display.html">8192 by 3840 pixel...</a> |  
                <a href="page0.html">Main</a>
                | <a href="voicexml_2_1.html">VoiceXML 2.1</a> »
    	</p>

    </div>
</div>












</div><!-- end .innersidebar -->
</div><!-- end .sidebar-a -->

<div class="sidebar sidebar-b">
<div class="innersidebar">







</div><!-- end .innersidebar -->
</div><!-- end .sidebar-b -->

</div><!-- end #innersidebars -->
</div><!-- end #sidebars -->
    
</div><!-- end #innerpagewrap -->
</div><!-- end #pagewrap -->

</body></html>
